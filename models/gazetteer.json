{
  "title": "Gazetteer",
  "description": "The Vision Gazetteer",
  "primaryKey": [
    "uprn",
    "counter"
  ],
  "type": "object",
  "properties": {
    "uprn": {
      "type": "integer",
      "maxLength": 12,
      "description": "A gazetteer URN"
    },
    "originHashSum": {
      "type": "string",
      "description": "Hash sum"
    },
    "counter": {
      "type": "integer",
      "minLength": 1,
      "description": "A generated sequence number which is combined with the URN to identify the address (Minimum=1)"
    },
    "class": {
      "type": "string",
      "maxLength": 6,
      "description": "Classification of the address record. Source: Contributing Local Authority"
    },
    "parentUprn": {
      "type": "integer",
      "maxLength": 12,
      "description": "UPRN of the parent record if a parent child relationship exists. Source: Contributing Local Authority"
    },
    "usrn": {
      "type": "integer",
      "description": "Unique Street Reference Number. Source: Contributing Local Authority"
    },
    "state": {
      "type": "string",
      "description": "A code identifying the current state of the property. Source: Contributing Local Authority"
    },
    "localCustodianCode": {
      "type": "integer",
      "description": "Unique identifier of the LLPG Custodian"
    },
    "officialFlag": {
      "type": "string",
      "description": "Status of the address. Source: Contributing Local Authority"
    },
    "addressLabel": {
      "type": "string",
      "maxLength": 500,
      "description": "An address label assembles from various elements"
    },
    "addressDescription": {
      "type": "string",
      "description": "An address description"
    },
    "businessName": {
      "type": "string",
      "maxLength": 60,
      "description": "Stores the Business Name of the address if applicable"
    },
    "buildingName": {
      "type": "string",
      "maxLength": 60,
      "description": "Stores the name of a building if applicable"
    },
    "buildingNumber": {
      "type": "string",
      "maxLength": 15,
      "description": "Stores the number of a building if applicable"
    },
    "streetName1": {
      "type": "string",
      "maxLength": 60,
      "description": "The first Street name of the property"
    },
    "streetName2": {
      "type": "string",
      "maxLength": 60,
      "description": "The second Street name of the property, if any"
    },
    "areaName1": {
      "type": "string",
      "maxLength": 40,
      "description": "The local area (e.g. Town, Suburb)"
    },
    "areaName2": {
      "type": "string",
      "maxLength": 40,
      "description": "The main area (e.g. County, State)"
    },
    "postcode": {
      "type": "string",
      "maxLength": 10,
      "description": "The Postcode"
    },
    "postTown": {
      "type": "string",
      "maxLength": 30,
      "description": "The Post Town"
    },
    "postCounty": {
      "type": "string",
      "maxLength": 30,
      "description": "The Post County"
    },
    "longitude": {
      "type": "number",
      "description": "A value defining the Longitude in accordance with the ETRS89 coordinate reference system. Source: Ordnance Survey"
    },
    "latitude": {
      "type": "number",
      "description": "A value defining the Latitude in accordance with the ETRS89 coordinate reference system. Source: Ordnance Survey"
    },
    "actualX": {
      "type": "number",
      "maxLength": 8,
      "multipleOf": 0.01,
      "description": "The X grid co-ordinate (Easting)"
    },
    "actualY": {
      "type": "number",
      "maxLength": 9,
      "multipleOf": 0.01,
      "description": "The Y grid co-ordinate (Northing)"
    },
    "routingX": {
      "type": "number",
      "multipleOf": 0.01,
      "maxLength": 8,
      "description": "The Easting co-ordinate of an access-point for the address"
    },
    "routingY": {
      "type": "number",
      "multipleOf": 0.01,
      "maxLength": 9,
      "description": "The Northing co-ordinate of an access-point for the address"
    },
    "mapbookRef": {
      "type": "string",
      "maxLength": 15,
      "description": "Map book reference of premise"
    },
    "lpiKey": {
      "type": "string",
      "maxLength": 14,
      "description": "NLPG Land and Property Identifier key"
    },
    "lsoaCode2011": {
      "type": "string",
      "description": "LSOA Code 2011"
    },
    "voaNdrpDescCode": {
      "type": "string",
      "description": "VOA NDRP Desc Code"
    },
    "voaNdrScatCode": {
      "type": "string",
      "description": "VOA NDR Scat Code"
    },
    "wardCode": {
      "type": "string",
      "maxLength": 9,
      "description": "ONS GSS code of the electoral ward (Eng and Scot) or the electoral division (Wales) name in which the property is situated"
    },
    "commandAreaId": {
      "type": "integer",
      "description": "The Command Area Id"
    },
    "boroughId": {
      "type": "integer",
      "description": "The Borough Id"
    },
    "districtId": {
      "type": "integer",
      "description": "The District Id"
    },
    "dataSource": {
      "type": "string",
      "maxLength": 10,
      "description": "Where this data has come from - Ordnance Survey, legacy, etc"
    },
    "ssi": {
      "type": "array",
      "description": "Linking of GI section to gazetteer entries",
      "items": {
        "type": "object",
        "properties": {
          "ssiKey": {
            "type": "integer",
            "maxLength": 12,
            "description": "A key that identifies a specific piece of SSI"
          },
          "notes": {
            "type": "string",
            "maxLength": 1000
          },
          "originHashSum": {
            "type": "string",
            "description": "Hash sum"
          },
          "dataSource": {
            "type": "string",
            "maxLength": 10,
            "description": "Where this data has come from - Ordnance Survey, legacy, etc"
          }
        },
        "required": [
          "notes"
        ]
      }
    },
    "responses": {
      "type": "array",
      "description": "Contains turnout information relating to specific gazetteer entries",
      "items": {
        "type": "object",
        "properties": {
          "responseCode": {
            "type": "string",
            "maxLength": 30,
            "description": "The name of the response classification (to match with those set-up within Vision"
          },
          "originHashSum": {
            "type": "string",
            "description": "Hash sum"
          },
          "dataSource": {
            "type": "string",
            "maxLength": 10,
            "description": "Where this data has come from - Ordnance Survey, legacy, etc"
          }
        },
        "required": [
          "uprn",
          "responseCode"
        ]
      }
    },
    "locations": {
      "type": "array",
      "description": "Access points for gazetteer entries",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 50,
            "description": "Name / title for this access point. 2nd part of primary key"
          },
          "xCoordinate": {
            "type": "number",
            "multipleOf": 0.01,
            "maxLength": 8,
            "description": "X grid coordinate of access point"
          },
          "yCoordinate": {
            "type": "number",
            "multipleOf": 0.01,
            "maxLength": 9,
            "description": "Y grid coordinate of access point"
          },
          "responseCode": {
            "type": "string",
            "maxLength": 50,
            "description": "Trunout information for the Vision command and control system for the access point"
          },
          "originHashSum": {
            "type": "string",
            "description": "Hash sum"
          },
          "dataSource": {
            "type": "string",
            "maxLength": 10,
            "description": "Where this data has come from - Ordnance Survey, legacy, etc"
          }
        },
        "required": [
          "name",
          "XCoordinate",
          "YCoordinate",
          "responseCode"
        ]
      }
    },
    "alarms": {
      "type": "array",
      "description": "Details of fire alarms at gazetteer locations",
      "items": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "maxLength": 20,
            "description": "The alarm code (identification code for this alarm). 2nd part of primary key"
          },
          "notes": {
            "type": "string",
            "maxLength": 100,
            "description": "Free text information for this alarm"
          },
          "provider": {
            "type": "string",
            "maxLength": 20,
            "description": "The alarm company"
          },
          "originHashSum": {
            "type": "string",
            "description": "Hash sum"
          },
          "dataSource": {
            "type": "string",
            "maxLength": 10,
            "description": "Where this data has come from - Ordnance Survey, legacy, etc"
          }
        },
        "required": [
          "code"
        ]
      }
    },
    "routing": {
      "type": "array",
      "description": "The purpose of this record is to maintain ROUTINGX and ROUTINGY values in the gazetteer table",
      "items": {
        "type": "object",
        "properties": {
          "xCoordinate": {
            "type": "number",
            "maxLength": 8,
            "multipleOf": 0.01,
            "description": "X grid coordinate of access point"
          },
          "yCoordinate": {
            "type": "number",
            "maxLength": 9,
            "multipleOf": 0.01,
            "description": "Y grid coordinate of access point"
          },
          "originHashSum": {
            "type": "string",
            "description": "Hash sum"
          },
          "dataSource": {
            "type": "string",
            "maxLength": 10,
            "description": "Where this data has come from - Ordnance Survey, legacy, etc"
          }
        },
        "required": [
          "XCoordinate",
          "YCoordinate"
        ]
      }
    }
  },
  "indexes": [
    {
      "columns": ["origin_hash_sum"],
      "unique": false
    },
    {
      "columns": ["class"],
      "unique": false
    },
    {
      "columns": ["postcode"],
      "unique": false
    },
    {
      "columns": ["mapbook_ref"],
      "unique": false
    },
    {
      "columns": ["lpi_key"],
      "unique": false
    },
    {
      "columns": ["lsoa_code_2011"],
      "unique": false
    },
    {
      "columns": ["voa_ndrp_desc_code"],
      "unique": false
    },
    {
      "columns": ["voa_ndr_scat_code"],
      "unique": false
    },
    {
      "columns": ["parent_uprn"],
      "unique": false
    },
    {
      "columns": ["usrn"],
      "unique": false
    },
    {
      "columns": ["state"],
      "unique": false
    },
    {
      "columns": ["local_custodian_code"],
      "unique": false
    },
    {
      "columns": ["official_flag"],
      "unique": false
    }
  ],
  "required": [
    "uprn",
    "counter",
    "addressLabel"
  ]
}
